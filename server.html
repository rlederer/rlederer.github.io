<!DOCTYPE html>
<html>
  <head>
   <title>Waltham Resources</title>
  </head>

  <body onload = "loadMap()">
    <h2>Waltham Resources</h2>
    <div id = "map" style = "width:640px; height:480px;"></div>
    <style>
      .dropbtn {
          background-color: #c61aff;
          color: white;
          padding: 16px;
          font-size: 16px;
          border: none;
          cursor: pointer;
      }

      .dropbtn:hover, .dropbtn:focus {
          background-color: #3e8e41;
      }

      #myInput {
          border-box: box-sizing;
          background-image: url('searchicon.png');
          background-position: 14px 12px;
          background-repeat: no-repeat;
          font-size: 16px;
          padding: 14px 20px 12px 45px;
          border: none;
          border-bottom: 1px solid #ddd;
      }

      #myInput:focus {outline: 3px solid #ddd;}

      .dropdown {
          position: relative;
          display: inline-block;
      }

      .dropdown-content {
          display: none;
          position: absolute;
          background-color: #f6f6f6;
          min-width: 230px;
          overflow: auto;
          border: 1px solid #ddd;
          z-index: 1;
      }

      .dropdown-content a {
          color: black;
          padding: 12px 16px;
          text-decoration: none;
          display: block;
      }

      .dropdown a:hover {background-color: #ddd;}

      .show {display: block;}
      </style>
      </head>
      <body>


      <div class="dropdown">
      <button onclick="myFunction()" class="dropbtn">Resource Type</button>
        <div id="myDropdown" class="dropdown-content">
          <button id="food">Food</button>
          <br>
          <button id="#healthcare">Health Care</button>
          <br>
          <button id="#housing">Housing</button>
          <br>
          <button id="#immigration">Immigration</button>
          <br>
          <button id="#legaladvice">Legal Advice</button>
          <br>
          <button id="#substancehelp">Substance Dependency Help</button>
          <br>
          <button id="#LGBTQ">LGBTQ+</button>
        </div>
      </div>

      <script>
      /* When the user clicks on the button,
      toggle between hiding and showing the dropdown content */
      function myFunction() {
         console.log("hi")
          document.getElementById("myDropdown").classList.toggle("show");

      }

      var btn1 = document.getElementByID('btn1'),
      btn2 = doocument.getElementByID('btn2');

      function testFunction(){

      }
      btn1.onclick = testFunction;
      btn2.onclick = testFunction;

      function filterFunction() {
          var input, filter, ul, li, a, i;
          input = document.getElementById("myInput");
          filter = input.value.toUpperCase();
          div = document.getElementById("myDropdown");
          a = div.getElementsByTagName("a");
          for (i = 0; i < a.length; i++) {
              if (a[i].innerHTML.toUpperCase().indexOf(filter) > -1) {
                  a[i].style.display = "";
              } else {
                  a[i].style.display = "none";
              }
          }
      }



        // fake JSON call
        function getJSONMarkers() {
           const markers = [
            {

              name:  "Rixos The Palm",
              location: [25.1212, 55.1535],
              type: "hello"

            },
            {
              name: "Shangri-La resource",
              location: [25.2084, 55.2719],
              type: "hello"
            },
            {
              name: "Grand Hyatt",
              location: [42.3765, -71.2356],
              type: "food"

            },
            {
              name:  "Waltham Community Day Center",
              location: [42.374250, -71.237430],
              type: "immigration"
            },
            {
              name: "Salvation Army",
              location: [42.366010, -71.236430],
              type: "immigration"
            },
            {
              name: "Boys and Girls Club",
              location: [42.3765, -71.2356],
              type: "food"
            }
          ];
          return markers;
        }

        function loadMap() {
          // Initialize Google Maps
          const mapOptions = {
            center:new google.maps.LatLng(42.3765, -71.2356),
            zoom: 11
          }
          const map = new google.maps.Map(document.getElementById("map"), mapOptions);

          // Load JSON Data
          const resourceMarkers = getJSONMarkers();

          // Initialize Google Markers
          for(resource of resourceMarkers) {
            if(resource.type==("food")){
              let marker = new google.maps.Marker({
                map: map,
                position: new google.maps.LatLng(resource.location[0], resource.location[1]),
                title: resource.name


              })
            }
            let marker = new google.maps.Marker({
              map: map,
              position: new google.maps.LatLng(resource.location[0], resource.location[1]),
              title: resource.name
            })
          }
        }
      </script>
      <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBX9GFC7YWEnEBGM6aWQic5tq7OZ91jwFM&callback=initMap">
      </script>
  </body>
</html>
